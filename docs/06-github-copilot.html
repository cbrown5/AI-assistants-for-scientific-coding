<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>6&nbsp; Github copilot for R – AI assistants for Scientific Coding</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./07-advanced-llm-agents.html" rel="next">
<link href="./05-research-applications-LLMs.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="style.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./06-github-copilot.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Github copilot for R</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">AI assistants for Scientific Coding</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Summary</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introduction to LLMs for R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-set-up.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Software you’ll need for this book and how to set it up</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-llm-prompting-fundamentals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">LLM prompting fundamentals</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-research-applications-LLMs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Research applications of LLMs</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-github-copilot.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Github copilot for R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-advanced-llm-agents.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Advanced LLM agents</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-general-prompting-advice.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">General principles for effective use of LLMs and AI assistants</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-ai-powered-analysis-workflows.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">AI powered analysis workflows</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-specification-sheets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Best practices project setup</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-writing-documents.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Writing documents with Quarto and AI assistants</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-cost-security.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Cost and security</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13-ethics-copyright.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Ethics and copyright</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14-appendix.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Code for fish and benthic analysis</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#what-to-do-if-you-are-not-using-r-with-vscode" id="toc-what-to-do-if-you-are-not-using-r-with-vscode" class="nav-link active" data-scroll-target="#what-to-do-if-you-are-not-using-r-with-vscode"><span class="header-section-number">6.1</span> What to do if you are not using R with VScode</a></li>
  <li><a href="#inline-code-editing" id="toc-inline-code-editing" class="nav-link" data-scroll-target="#inline-code-editing"><span class="header-section-number">6.2</span> Inline code editing</a>
  <ul class="collapse">
  <li><a href="#code-completion" id="toc-code-completion" class="nav-link" data-scroll-target="#code-completion"><span class="header-section-number">6.2.1</span> 1. Code completion</a></li>
  <li><a href="#using-comments" id="toc-using-comments" class="nav-link" data-scroll-target="#using-comments"><span class="header-section-number">6.2.2</span> 2. Using comments</a></li>
  <li><a href="#code-completion-settings" id="toc-code-completion-settings" class="nav-link" data-scroll-target="#code-completion-settings"><span class="header-section-number">6.2.3</span> 3. Code completion settings</a></li>
  <li><a href="#inline-code-generation" id="toc-inline-code-generation" class="nav-link" data-scroll-target="#inline-code-generation"><span class="header-section-number">6.2.4</span> 4. Inline code generation</a></li>
  </ul></li>
  <li><a href="#ask-mode" id="toc-ask-mode" class="nav-link" data-scroll-target="#ask-mode"><span class="header-section-number">6.3</span> Ask mode</a>
  <ul class="collapse">
  <li><a href="#improving-our-initial-prompt-by-attaching-data" id="toc-improving-our-initial-prompt-by-attaching-data" class="nav-link" data-scroll-target="#improving-our-initial-prompt-by-attaching-data"><span class="header-section-number">6.3.1</span> Improving our initial prompt by attaching data</a></li>
  <li><a href="#improving-our-initial-prompt-by-attaching-domain-knowledge" id="toc-improving-our-initial-prompt-by-attaching-domain-knowledge" class="nav-link" data-scroll-target="#improving-our-initial-prompt-by-attaching-domain-knowledge"><span class="header-section-number">6.3.2</span> Improving our initial prompt by attaching domain knowledge</a></li>
  <li><a href="#planning-implementation" id="toc-planning-implementation" class="nav-link" data-scroll-target="#planning-implementation"><span class="header-section-number">6.3.3</span> Planning implementation</a></li>
  </ul></li>
  <li><a href="#edit-mode-creating-code-from-text" id="toc-edit-mode-creating-code-from-text" class="nav-link" data-scroll-target="#edit-mode-creating-code-from-text"><span class="header-section-number">6.4</span> Edit mode: Creating code from text</a>
  <ul class="collapse">
  <li><a href="#adding-documentation-with-edit-mode" id="toc-adding-documentation-with-edit-mode" class="nav-link" data-scroll-target="#adding-documentation-with-edit-mode"><span class="header-section-number">6.4.1</span> Adding documentation with edit mode</a></li>
  <li><a href="#workflows-and-tips-for-edit-mode" id="toc-workflows-and-tips-for-edit-mode" class="nav-link" data-scroll-target="#workflows-and-tips-for-edit-mode"><span class="header-section-number">6.4.2</span> Workflows and tips for edit mode</a></li>
  </ul></li>
  <li><a href="#agent-mode-automated-workflows" id="toc-agent-mode-automated-workflows" class="nav-link" data-scroll-target="#agent-mode-automated-workflows"><span class="header-section-number">6.5</span> Agent mode: Automated workflows</a>
  <ul class="collapse">
  <li><a href="#exploring-agent-mode" id="toc-exploring-agent-mode" class="nav-link" data-scroll-target="#exploring-agent-mode"><span class="header-section-number">6.5.1</span> Exploring agent mode</a></li>
  <li><a href="#writing-up-the-project" id="toc-writing-up-the-project" class="nav-link" data-scroll-target="#writing-up-the-project"><span class="header-section-number">6.5.2</span> Writing up the project?</a></li>
  <li><a href="#agent-mode-errors" id="toc-agent-mode-errors" class="nav-link" data-scroll-target="#agent-mode-errors"><span class="header-section-number">6.5.3</span> Agent mode errors</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary"><span class="header-section-number">6.5.4</span> Summary</a></li>
  </ul></li>
  <li><a href="#llm-choice" id="toc-llm-choice" class="nav-link" data-scroll-target="#llm-choice"><span class="header-section-number">6.6</span> LLM choice</a>
  <ul class="collapse">
  <li><a href="#bring-your-own-api-key-byok" id="toc-bring-your-own-api-key-byok" class="nav-link" data-scroll-target="#bring-your-own-api-key-byok"><span class="header-section-number">6.6.1</span> Bring Your Own API Key (BYOK)</a></li>
  </ul></li>
  <li><a href="#tools-and-mcp" id="toc-tools-and-mcp" class="nav-link" data-scroll-target="#tools-and-mcp"><span class="header-section-number">6.7</span> Tools and MCP</a></li>
  <li><a href="#other-options" id="toc-other-options" class="nav-link" data-scroll-target="#other-options"><span class="header-section-number">6.8</span> Other options</a>
  <ul class="collapse">
  <li><a href="#indexing" id="toc-indexing" class="nav-link" data-scroll-target="#indexing"><span class="header-section-number">6.8.1</span> Indexing</a></li>
  <li><a href="#configure-code-completions" id="toc-configure-code-completions" class="nav-link" data-scroll-target="#configure-code-completions"><span class="header-section-number">6.8.2</span> Configure code completions</a></li>
  <li><a href="#next-edit-suggestions" id="toc-next-edit-suggestions" class="nav-link" data-scroll-target="#next-edit-suggestions"><span class="header-section-number">6.8.3</span> Next edit suggestions</a></li>
  <li><a href="#premium-requests-bar" id="toc-premium-requests-bar" class="nav-link" data-scroll-target="#premium-requests-bar"><span class="header-section-number">6.8.4</span> Premium requests bar</a></li>
  </ul></li>
  <li><a href="#customizing-github-copilot-mode-and-instructions" id="toc-customizing-github-copilot-mode-and-instructions" class="nav-link" data-scroll-target="#customizing-github-copilot-mode-and-instructions"><span class="header-section-number">6.9</span> Customizing Github Copilot mode and instructions</a>
  <ul class="collapse">
  <li><a href="#custom-modes" id="toc-custom-modes" class="nav-link" data-scroll-target="#custom-modes"><span class="header-section-number">6.9.1</span> Custom modes</a></li>
  <li><a href="#custom-intstructions" id="toc-custom-intstructions" class="nav-link" data-scroll-target="#custom-intstructions"><span class="header-section-number">6.9.2</span> Custom intstructions</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-githubcopilot-chapter" class="quarto-section-identifier"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Github copilot for R</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><strong>Time:</strong> 11:30-12:00pm</p>
<p>I’ll show you how you can most effectively use github copilot to plan, code and write up your data analysis and modelling.</p>
<p><strong>Software requirements:</strong> VScode with R or Python and github copilot license + extension for VScode (comes built in to VScode).</p>
<p>Github Copilot calls itself an ‘AI programming assistant’ or an ‘AI pair programmer’. I’ll refer to it as an ‘LLM coding assistant’ or just ‘Assistant’.</p>
<p>Assistants add a layer of software between you and the LLM. The software is doing some hidden interpretation of what you want to do, as well as trying to save costs. For instance, for most assistants we often don’t get to control (or even see) the system message, the temperature or the number of output tokens. The assistant is also guessing context to include in the prompt, so it can automatically give the LLM more context. At the same time it is managing the LLM’s context window and trying to save on costs.</p>
<p>There is no generic name for this type of software (the field is moving to fast to have standardized names). So I’ll refer to them Assistants. In this bucket I’ll also put chatGPT, Claude, Roo Code, Cline and others. Note that Github Copilot (which I’ll call copilot for short) is different to the ‘Copilot’ assistant that is on the web and in the Teams app.</p>
<p>This software is also called ‘chatbots’, however, I prefer assistants as the tasks they can do are much broader than just chatting.</p>
<div class="tip">
<p><strong>Tip:</strong> You’ll get the most of out Github Copilot if you use Visual Studio Code as your development environment (rather than RStudio). Setting up VScode with R can be a bit fiddly, check out my my installation instructions (<a href="#sec-githubcopilot" class="quarto-xref"><span class="quarto-unresolved-ref">sec-githubcopilot</span></a>) if you have trouble. Web searching advice is also a good idea if you are stuck. Its worth the effort.</p>
</div>
<p>Copilot It is developing rapidly, so it is quite likely that when you read this there will be changes and new features.</p>
<p>In this section I’ll focus on showing the main ways you can use copilot. Just be aware the implementation may change in future.</p>
<p>We’ll look at:</p>
<ul>
<li>Overview VScode for those that are new to this software</li>
<li>Best practices for setting up your project directory</li>
<li>Inline code editing</li>
<li>Ask mode</li>
<li>Edit mode</li>
<li>Agent mode</li>
</ul>
<section id="what-to-do-if-you-are-not-using-r-with-vscode" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="what-to-do-if-you-are-not-using-r-with-vscode"><span class="header-section-number">6.1</span> What to do if you are not using R with VScode</h2>
<p>If you are using Python in VScode, then just use the same dataset I have below, but write in a .py script. Copilot can help you if you get stuck with anything.</p>
<p>If you are using R in Rstudio. You can enable copilot with inline completions from Rstudio (if you have github copilot account). See <a href="#sec-setup" class="quarto-xref"><span class="quarto-unresolved-ref">sec-setup</span></a> Option 2 for how to do that.</p>
<p>Once we get to the Inline Code Generation section you can use gander as described in <a href="#sec-setup" class="quarto-xref"><span class="quarto-unresolved-ref">sec-setup</span></a>.</p>
</section>
<section id="inline-code-editing" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="inline-code-editing"><span class="header-section-number">6.2</span> Inline code editing</h2>
<p>This chapter explores techniques for using GitHub Copilot’s inline code editing capabilities to enhance your R programming workflow.</p>
<section id="code-completion" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="code-completion"><span class="header-section-number">6.2.1</span> 1. Code completion</h3>
<p>This is the only option supported in Rstudio (last time I checked).</p>
<p>Assuming you have github copilot set-up you just need to start a new R script (remember to keep it organized and give it a useful name) and start typing. You’ll see suggested code completions appear in grey. Hit <code>tab</code> to complete them.</p>
<p>Let’s read in the benthic site data and fish counts:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">url</span>(<span class="st">"https://raw.githubusercontent.com/cbrown5/example-ecological-data/refs/heads/main/data/benthic-reefs-and-fish/fish-coral-cover-sites.csv"</span>))</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dat)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>More <a href="https://github.com/cbrown5/example-ecological-data/blob/main/data/benthic-reefs-and-fish/readme.md">details on this data are available here</a>.</p>
<p>Now try create a ggplot of <code>secchi</code> (a measure of water clarity, higher values mean clearer water) and <code>pres.topa</code> (count of topa, the bumphead parrotfish). Start typing <code>gg</code> and see what happens.</p>
<p>You should get a recommendation for a ggplot. But it won’t know the variable names.</p>
<div class="tip">
<p><strong>Tip:</strong> Sometimes GC gets stuck in a loop and keeps recommending the same line. To break it out of the loop try typing something new.</p>
</div>
</section>
<section id="using-comments" class="level3" data-number="6.2.2">
<h3 data-number="6.2.2" class="anchored" data-anchor-id="using-comments"><span class="header-section-number">6.2.2</span> 2. Using comments</h3>
<p>The code completion is using your script and all open scripts in VScode to predict your next line of code. It won’t know the variable names unless you’ve provided that. One way is to include them in the readme.md file and have that open, another is to use comments in the active script (which tends to work more reliably), e.g.</p>
<pre><code># Make a point plot of secchi against pres.topa
gg...</code></pre>
<p>Should get you the write ggplot. Using variable names in your prompts is more precise and will help the LLM guess the right names.</p>
<p>You could also try putting key variable names in comments at the top of your script.</p>
<p>Another way to use autocomplete is not to write R at all, just to write comments and fix the R code. Try templating a series of plots like:</p>
<pre><code># Make a point plot of secchi against pres.topa with a stat_smooth

# Plot logged (two categories) and pres.topa as a boxplot

# Plot CB_cover (branching coral cover) against secchi</code></pre>
<div class="tip">
<p><strong>Tip:</strong> Remember one way to improve prompts is to be more specific. So using the correct variable names helps.</p>
</div>
<p>Now go back through and click under each line to get the suggestions.</p>
<p>This strategy is great in data wrangling workflows. As a simple example try make this grouped summary using comments only:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>dat <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(logged) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(<span class="at">mean_topa =</span> <span class="fu">mean</span>(pres.topa), </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">mean_CB =</span> <span class="fu">mean</span>(CB_cover))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To make this I might write this series of comments:</p>
<pre><code>    #group dat by logged 
    #summarize pres.topa and CB_cover</code></pre>
<p>If the variable names are documented above you can ofter be lazier and less precise with variable names here.</p>
</section>
<section id="code-completion-settings" class="level3" data-number="6.2.3">
<h3 data-number="6.2.3" class="anchored" data-anchor-id="code-completion-settings"><span class="header-section-number">6.2.3</span> 3. Code completion settings</h3>
<p>Click the octocat in the bottom right corner of VScode to fine-tune the settings. You can enable/disable code completions (sometimes they are annoying e.g.&nbsp;when writing a workshop!).</p>
<p>You can also enable ‘next edit suggestions’. These are useful if editing an exisiting file. e.g.&nbsp;if you misspelt ‘sechi’ then updated it in one place, it will suggest updates through the script. Hit tab to move through these.</p>
<p>The box will also tell you if indexing is available. Indexing allows AI to search your code faster.</p>
</section>
<section id="inline-code-generation" class="level3" data-number="6.2.4">
<h3 data-number="6.2.4" class="anchored" data-anchor-id="inline-code-generation"><span class="header-section-number">6.2.4</span> 4. Inline code generation</h3>
<p>In VScode you can also access an inline chat box with cmd/cntrl-i. This chat can chat as well as edit code.</p>
<p>You can click anywhere and active this. I find it most useful though to select a section of code and then hit cmd/cntrl-i.</p>
<p>This is most useful to - Add new code - Explain code - Fix bugs - Add tests</p>
<p>Try select some of your code (e.g.&nbsp;a ggplot) and ask it to explain what the code does.</p>
<p>Now try select one of your plots and ask for some style changes (e.g.&nbsp;theme, colours, axes label sizes etc…).</p>
<p>Now add a bug into one of your plots. See if the inline chatbox can fix the bug.</p>
<section id="prompt-shortcuts" class="level4" data-number="6.2.4.1">
<h4 data-number="6.2.4.1" class="anchored" data-anchor-id="prompt-shortcuts"><span class="header-section-number">6.2.4.1</span> Prompt shortcuts</h4>
<p>Use the <code>/</code> to bring up a list of prompt shortcuts. The most useful in R are <code>/explain</code>, <code>/fix</code>, <code>/tests</code>. Try select some code then use these to see what happens.</p>
</section>
</section>
</section>
<section id="ask-mode" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="ask-mode"><span class="header-section-number">6.3</span> Ask mode</h2>
<p>Ask mode is a chatbot that has access to context from your active project. It is great to help you plan analysis and implementation, using context from your project. It is also handy to help explain code.</p>
<p>In VScode click the ‘octocat’ symbol that should be at the top towards the right. This will open the chat window.</p>
<p>The chat panel will appear down the bottom of this new sidebar. Confirm that the chatbot is currently set to ‘Ask’ mode.</p>
<p>Your current file will automatically be included as context for the prompt. You can drag and drop any other files here as well.</p>
<p>Start by asking the chatbot for guidance on a statistical analysis. We are interested in how the abundance of Topa relates to coral cover. For instance you could ask:</p>
<pre><code>How can I test the relationship between pres.topa and CB_cover?</code></pre>
<p>Evaluate the quality of its response and we will discuss.</p>
<section id="improving-our-initial-prompt-by-attaching-data" class="level3" data-number="6.3.1">
<h3 data-number="6.3.1" class="anchored" data-anchor-id="improving-our-initial-prompt-by-attaching-data"><span class="header-section-number">6.3.1</span> Improving our initial prompt by attaching data</h3>
<p>Recall our initial prompt was:</p>
<pre><code>How can I statistically test the relationship between pres.topa and CB_cover?</code></pre>
<p>Try some of the strategies above (make a new prompt by clicking the + button) and compare the quality of advice.</p>
<p>For instance, you can save a data summary like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(<span class="fu">head</span>(dat), <span class="st">"resources/head-site-level-data.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then drag and drop it into the ask window and add something like:</p>
<pre><code>How can I statistically test the relationship between pres.topa and CB_cover? Here are the first 6 rows of data</code></pre>
</section>
<section id="improving-our-initial-prompt-by-attaching-domain-knowledge" class="level3" data-number="6.3.2">
<h3 data-number="6.3.2" class="anchored" data-anchor-id="improving-our-initial-prompt-by-attaching-domain-knowledge"><span class="header-section-number">6.3.2</span> Improving our initial prompt by attaching domain knowledge</h3>
<p>You can further improve the response by attaching a trusted resource. e.g.&nbsp;<a href="https://environmentalcomputing.net/statistics/glms/glm-2/">save this webpage on count models for ecology</a> to your computer. Then you can attach the html file.</p>
<p>However, html files are full of code as well as the text we want. It can be more efficient for the LLM if you convert the html to markdown. Here’s a handy browser operated tool that will convert an arbitrary webpage to markdown:</p>
<p>https://tools.simonwillison.net/jina-reader</p>
<p>Just paste in the url above (https://environmentalcomputing.net/statistics/glms/glm-2/) to get a markdown version. Copy that to a local file in your project and attach it to ask mode.</p>
<p>Be sure to check the markdown to make sure its safe and doesn’t contain malicious instructions.</p>
<p>Another option is to use a websearch tool. You can install one with github copilot. However, I’m not recommending this at this point, due to cyber-security concerns, we’ll disucss this further later on.</p>
<p>That worked well for me. I then followed up with:</p>
<pre><code>Great. Evaluate the robustness of each suggestoin on a 1-10 scale</code></pre>
<p>And it gave me a nice summary suggesting to try overdispersion models first (which is a good suggestion).</p>
<p>The absolute best practice would be to give the assistant all the context for your study and observational design. Let’s see how doing that can work in our favour when planning implementation.</p>
</section>
<section id="planning-implementation" class="level3" data-number="6.3.3">
<h3 data-number="6.3.3" class="anchored" data-anchor-id="planning-implementation"><span class="header-section-number">6.3.3</span> Planning implementation</h3>
<p>Another way to use Ask mode is for help in implementing an analysis. Many of our workflows are complex and involve multiple data wrangling steps.</p>
<p>To get the best out of GC I recommend creating a detailed README.md file with project context. Let’s try that and use it to plan our project.</p>
<p>Save the <a href="https://github.com/cbrown5/R-llm-workshop/tree/main/resources/benthic-analysis">README.md that his here to a local file</a>. (Remember that we are going to be using this as a prompt, so read it first).</p>
<p>Now you can attach it (or open it then click new chat). Given all the context you’ve provided you can just write something simple like:</p>
<pre><code>Help me plan R code to implement this analysis. </code></pre>
<p>Or</p>
<pre><code>Help me plan the workflow and scripts to implement this analysis</code></pre>
<p>I did this. It suggested both code (that looked approximatley correct) and the directory structure, sticking to my guideline in the readme about being modular.</p>
<p>You should iterative with Ask mode to if there are any refinements you want.</p>
<p>Let’s move onto edit mode to see how to put this plan to action.</p>
</section>
</section>
<section id="edit-mode-creating-code-from-text" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="edit-mode-creating-code-from-text"><span class="header-section-number">6.4</span> Edit mode: Creating code from text</h2>
<p>Edit mode will edit files for you. The best way to learn how is to just see it in action.</p>
<p>Open the Chat panel and click the ‘Ask’ button, then select ‘Edit’.</p>
<p>Now go back to your R file with the plots in it. In edit mode suggest a new plot such as:</p>
<pre><code>Create a pairs plot for all continuous variables </code></pre>
<div class="tip">
<p><strong>Tip:</strong> Sometimes you can’t go back once copilot has made edits to a file. So its good practice to use git and commmit changes before and after editing.</p>
</div>
<p>Try creating some other plots or analyses using edit mode.</p>
<section id="adding-documentation-with-edit-mode" class="level3" data-number="6.4.1">
<h3 data-number="6.4.1" class="anchored" data-anchor-id="adding-documentation-with-edit-mode"><span class="header-section-number">6.4.1</span> Adding documentation with edit mode</h3>
<p>Edit mode can write text as well as code. It can be handy to use for documentation for instance.</p>
<p>Open the README.md. Then type this prompt:</p>
<pre><code>Document what this script does in the readme. </code></pre>
<p>Drag and drop your script into the chat window as well.</p>
<p>Click ‘Keep’ if you like what it did. Or you can suggest improvements. Alternatively, accept it for now and then edit it afterwards.</p>
<p>Another way to use edit mode is for translation. Try getting it to translate part of your code into another programming language, or part of your text into another language (Spanish and French are the best options at the moment).</p>
<section id="why-so-much-code" class="level4" data-number="6.4.1.1">
<h4 data-number="6.4.1.1" class="anchored" data-anchor-id="why-so-much-code"><span class="header-section-number">6.4.1.1</span> Why so much code?</h4>
<p>Copilot is designed as a programming assistant. We don’t know its system message, but given the main market for this software is professional programmers, we can guess it has a strong emphasis on programming robust code.</p>
<p>You might notice that copilot tend to ‘over-engineer’ your R scripts. For instance, it has a tendancy to make an <code>if</code> statement to check if each new package needs installing, before loading it.</p>
<p>If you don’t like this style you can add a statement to the readme asking it to keep implementation simple.</p>
</section>
</section>
<section id="workflows-and-tips-for-edit-mode" class="level3" data-number="6.4.2">
<h3 data-number="6.4.2" class="anchored" data-anchor-id="workflows-and-tips-for-edit-mode"><span class="header-section-number">6.4.2</span> Workflows and tips for edit mode</h3>
<p>Remember its an assistant, its not doing the project for you. So you need to make sure it stays on track. Left unattended (if you just accept, accept, accept without reading) it can go down rabbit holes. Sometimes it creates superfluous analyses or even incorret statistics.</p>
<p>So here’s how I recommend you use it:</p>
<ul>
<li>Use git for version control so you can go back in to older versions.</li>
<li>Read the suggested edits before accepting</li>
<li>NEVER edit the file while copilot is working! To edit files it uses string matching to locate the position to insert the edits. If you change the file it may not find the correct place to insert the new code.</li>
</ul>
</section>
</section>
<section id="agent-mode-automated-workflows" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="agent-mode-automated-workflows"><span class="header-section-number">6.5</span> Agent mode: Automated workflows</h2>
<p>Agents are LLMs that have tools that allow them to work autonomously. In effect they review the results of tool use (such as writing code and running code), then respond to those results.</p>
<p>In Copilot’s chat window you can set it to ‘Agent’ mode to enable these features.</p>
<p>After each tool use copilot will ask you to confirm the changes and the next action. At that point you can review its changes, make edits, or continue chatting to suggest refinements.</p>
<p><img src="https://code.visualstudio.com/assets/blogs/2025/02/24/diagram.png" class="img-fluid"></p>
<p><strong>Image:</strong> Agent mode from https://code.visualstudio.com</p>
<p>Agent mode has access to the terminal, so it will be using the terminal application to run scripts it creates. We’ll demonstrate in class so you can understand what its doing.</p>
<section id="exploring-agent-mode" class="level3" data-number="6.5.1">
<h3 data-number="6.5.1" class="anchored" data-anchor-id="exploring-agent-mode"><span class="header-section-number">6.5.1</span> Exploring agent mode</h3>
<p>Let’s explore Agent mode’s features through some analysis.</p>
<p>Switch the Modes to agent mode. Make sure you have the <a href="https://raw.githubusercontent.com/cbrown5/example-ecological-data/refs/heads/main/data/benthic-reefs-and-fish/readme.md">readme file</a> in your project directory. This has all the context our agent will need.</p>
<p>It will help if you have the readme file open when you run the agent, so open that file now (then it will refer to that file first).</p>
<p>Now prompt agent mode with something like:</p>
<pre><code>I want to do a regression of pres.topa on cb_cover. Create all the scripts I need to do this, as well as run the scripts to make plots of the predicted relationship between the variables</code></pre>
<p>Then follow along with the conversation, adjusting or correcting it as need be.</p>
<p>See how it goes and we can discuss in class. It will be interesting to compare results as they will all be different.</p>
<div class="tip">
<p><strong>Tip:</strong> There’s no ‘optimal’ prompt, only better prompts. Sometimes the best way to write is the way you are most comfortable writing. You’ll get more out of your brain that way and copilot will end up performing the same.</p>
</div>
<p>Here’s an alternative way to phrase that prompt:</p>
<pre><code>Arrr matey, I be wantin' to run a regression of pres.topa on cb_cover. Hoist all the scripts I need for this voyage, and chart the plots of the predicted relationship between these variables!</code></pre>
<p>(Ok so that last prompt definitely doesn’t follow the guidelines of being super clear, but I was bored and it seemed to work ok)</p>
</section>
<section id="writing-up-the-project" class="level3" data-number="6.5.2">
<h3 data-number="6.5.2" class="anchored" data-anchor-id="writing-up-the-project"><span class="header-section-number">6.5.2</span> Writing up the project?</h3>
<p>You can keep going from here if you like and get agent mode to write up the results it found as an Rmd file. It will use the tables it generates to (hopefully) make accurate interpretations. Copilot Pro also has vision capabilities. This means it will be able to interpret the figures it creates as well. We’ll see that in action when we look at Roo Code in a bit.</p>
<p>If you do that, as always, don’t take anything for granted. Make sure you check everything and understand the results yourself.</p>
</section>
<section id="agent-mode-errors" class="level3" data-number="6.5.3">
<h3 data-number="6.5.3" class="anchored" data-anchor-id="agent-mode-errors"><span class="header-section-number">6.5.3</span> Agent mode errors</h3>
<p>Agent mode will try to debug its errors, but can get stuck in a loop sometimes.</p>
<p>One common error is that it will try to run <code>Rscript</code> from the terminal in order to run full R scripts. But not everyone’s computer is set-up with an <code>Rscript</code> command. To do this you will need to web search how to put <code>Rscript</code> on your PATH (which means it can be found from the terminal). How you do this depends on your computer.</p>
<p>This is an advanced IT set-up feature that I won’t cover here, but for one tip see the custom instructions section below.</p>
</section>
<section id="summary" class="level3" data-number="6.5.4">
<h3 data-number="6.5.4" class="anchored" data-anchor-id="summary"><span class="header-section-number">6.5.4</span> Summary</h3>
<p>Agent mode can really accelerate your workflow development. But there are some risks. It can also go off track or write excessive amounts of code (over-engineering). Best practices for using Agent mode include:</p>
<ul>
<li>Separate science questions (what stats) from implementation stats (what code)</li>
<li>Understand the stats you want to do, don’t just rely on copilot to get it right</li>
<li>Checking what it does at is does it, so you can keep it on track</li>
<li>Giving strong guidelines e.g.&nbsp;through a project readme file.</li>
<li>Keeping the readme updated to guide copilot</li>
<li>Report AI use and how it was used in your publications</li>
</ul>
</section>
</section>
<section id="llm-choice" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="llm-choice"><span class="header-section-number">6.6</span> LLM choice</h2>
<p>Github copilot let’s you choose different LLMs. What you can see will depend on what type of plan you have. Some LLMs have a limited number of ‘Premium Requests’ per month (again depending on your account tier) (e.g.&nbsp;at time of writing Pro accounts got 300 premium requests per month.)</p>
<p>Click the Model choice menu to see what’s available (bottom of chat window, probably says ‘GPT-4.1’ right now).</p>
<p>The <code>0x</code> means you get unlimited requests, whereas a <code>1x</code> means it will use one full premium request.</p>
<p>Different models have different performances for different tasks.</p>
<p>In general there isn’t a lot of formal evaluations of R coding or statistics yet. Whereas, there are many available for Python.</p>
<p>The two most commonly used LLMs for data science are Claude Sonnet series (currently 4.0 available) and GPT 4.X series (currently 4.1 available).</p>
<p>In general I’ve found the Claude Sonnet models are the best for R code and most reliable for tool use (e.g.&nbsp;Edit or Agent mode).</p>
<p>GPT 4.1 is also pretty good, but in my experience there is a higher rate of errors. For instance, in Edit and Agent mode reasonably often it will delete text or code you wanted to keep (so keep an eye on what its doing). GPT 4.1 also tends to be a bit ‘lazier’ than Sonnet 4.0 in that it will tend to explain what to do, rather than explaning and implementing the suggestion.</p>
<p>Play around with the same prompt, but different models, so you can compare performance.</p>
<section id="bring-your-own-api-key-byok" class="level3" data-number="6.6.1">
<h3 data-number="6.6.1" class="anchored" data-anchor-id="bring-your-own-api-key-byok"><span class="header-section-number">6.6.1</span> Bring Your Own API Key (BYOK)</h3>
<p>You can add your own API key to github copilot. This lets you access other models on a pay per use basis. To add an API key click the model menu then select ‘Manage models’ and follow instructions.</p>
<p>You will also need an OpenAI API key if you want to use vision, that is, attach images as context.</p>
</section>
</section>
<section id="tools-and-mcp" class="level2" data-number="6.7">
<h2 data-number="6.7" class="anchored" data-anchor-id="tools-and-mcp"><span class="header-section-number">6.7</span> Tools and MCP</h2>
<p>Advanced users may want to install Model Context Protocol Servers or tools. These are accessible via the cog in the chat window.</p>
<p>I won’t cover tools and MCP in detail in this course. But these give Github Copilot additional abilites, such as web searching, or access to specific online databases or reference manuals (e.g.&nbsp;for code styles).</p>
<p>There are some security concerns to consider if using tools, see later chapters on this topic.</p>
</section>
<section id="other-options" class="level2" data-number="6.8">
<h2 data-number="6.8" class="anchored" data-anchor-id="other-options"><span class="header-section-number">6.8</span> Other options</h2>
<p>Github Copilot is a complex software and I recommend browsing the docs for a comprehensive guide. But there are a few other key features.</p>
<p>All of these are found by clicking the octocat on the bottom right of your VScode window.</p>
<section id="indexing" class="level3" data-number="6.8.1">
<h3 data-number="6.8.1" class="anchored" data-anchor-id="indexing"><span class="header-section-number">6.8.1</span> Indexing</h3>
<p>First, it will automatically index the scripts and documents in your active directory. This means a version is created that the AI agent can quickly search. This speeds up recommendations and makes them more accurate.</p>
<p>However, indexing may also be a data privacy concern. While your index shouldn’t be shared with anyone else, it does mean that as soon as you open VSCode github copilot is reading some of the files (hard to tell exactly what) to create its index in the cloud.</p>
<p>To turn this off click the octocat and find the option for indexing to disable it.</p>
</section>
<section id="configure-code-completions" class="level3" data-number="6.8.2">
<h3 data-number="6.8.2" class="anchored" data-anchor-id="configure-code-completions"><span class="header-section-number">6.8.2</span> Configure code completions</h3>
<p>You can enable/disable code completions for a certain file type or all file types. Sometimes they get in the way or are distracting, like when you are writing qmd documents.</p>
</section>
<section id="next-edit-suggestions" class="level3" data-number="6.8.3">
<h3 data-number="6.8.3" class="anchored" data-anchor-id="next-edit-suggestions"><span class="header-section-number">6.8.3</span> Next edit suggestions</h3>
<p>This option is turned off by default. If turned on it will suggest changes anywhere in your document, rather than just at the cursor. For instance, if you update a variable name at the top, it will find and suggest updating all instances of that variable name. You use tab to scroll through the different ‘next edit’ suggestions when it makes those.</p>
</section>
<section id="premium-requests-bar" class="level3" data-number="6.8.4">
<h3 data-number="6.8.4" class="anchored" data-anchor-id="premium-requests-bar"><span class="header-section-number">6.8.4</span> Premium requests bar</h3>
<p>This menu is also where you find how many premium requests you’ve used in this month.</p>
</section>
</section>
<section id="customizing-github-copilot-mode-and-instructions" class="level2" data-number="6.9">
<h2 data-number="6.9" class="anchored" data-anchor-id="customizing-github-copilot-mode-and-instructions"><span class="header-section-number">6.9</span> Customizing Github Copilot mode and instructions</h2>
<p>There’s a lot of customization options in copilot now. To see some of these, open the chat window and click the cog symbol. Then pick one of the options below</p>
<section id="custom-modes" class="level3" data-number="6.9.1">
<h3 data-number="6.9.1" class="anchored" data-anchor-id="custom-modes"><span class="header-section-number">6.9.1</span> Custom modes</h3>
<p>After the cog click ‘Modes’, then a pop-up will appear at the top of your VScode window. Click the plus to create a new mode. Follow the prompts. Try paste in our text from the <a href="https://raw.githubusercontent.com/cbrown5/AI-assistants-for-scientific-coding/refs/heads/main/resources/DIY-stats-bot-system.md">stats bot from before</a>.</p>
<p>Once that is saved in the .github directory (so only local to this project) you can click the Modes selector (bottom left of chat window, might say ‘Ask’, ‘Edit’ or ‘Agent’) and choose your new mode. Try having a conversation with it.</p>
<p>You can also give custom modes access to tools, so they can edit or act like agents. If you’re an advanced user you might want to play around with these options to make modes for different tasks (like data exploration).</p>
</section>
<section id="custom-intstructions" class="level3" data-number="6.9.2">
<h3 data-number="6.9.2" class="anchored" data-anchor-id="custom-intstructions"><span class="header-section-number">6.9.2</span> Custom intstructions</h3>
<p>For heavy Agent users you may want to set-up custom instructions. These are just instructions attached to every prompt you run in this project. To create these press the cog button again, click ‘Instructions’ and follow the steps to create a new instruction as we did above for the modes.</p>
<p>Some ideas: you could set preference for ggplot2 or a specific coding style.</p>
<p>You can also add instructions to tell the agent how to use Rscript to avoid terminal errors <a href="https://docs.github.com/en/copilot/customizing-copilot/adding-repository-custom-instructions-for-github-copilot">See here for instructions</a>. One way around Rscript related errors is to find the path to the Rscript executable on your computer (e.g.&nbsp;Rscript.exe on windows) and then create a custom instruction that says something like:</p>
<pre><code>To use Rscript to run R scripts give the full path like this: 
"C:/Program Files/R/bin/Rscript.exe" "my_script.R"</code></pre>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./05-research-applications-LLMs.html" class="pagination-link" aria-label="Research applications of LLMs">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Research applications of LLMs</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./07-advanced-llm-agents.html" class="pagination-link" aria-label="Advanced LLM agents">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Advanced LLM agents</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>